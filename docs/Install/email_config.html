
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>2.6. Email Configuration &#8212; OnTask (B.7.1) B.7.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2.7. Canvas Email Configuration" href="canvas_email_config.html" />
    <link rel="prev" title="2.5. Authentication" href="authentication.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="authentication.html" title="Previous document"><span class="section-number">2.5. </span>Authentication</a>
        </li>
        <li>
          <a href="canvas_email_config.html" title="Next document"><span class="section-number">2.7. </span>Canvas Email Configuration</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="email-configuration">
<span id="email-config"></span><h1><span class="section-number">2.6. </span>Email Configuration<a class="headerlink" href="#email-configuration" title="Permalink to this headline">¶</a></h1>
<p>OnTask relies on the functionality included in Django to send emails from the application. The following variables can be used in the configuration file:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_HOST</span></code></dt><dd><p>Host providing the SMTP service.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_PORT</span></code></dt><dd><p>Port to communicate with the host</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_HOST_USER</span></code></dt><dd><p>User account to log into the email host</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_HOST_PASSWORD</span></code></dt><dd><p>Password for the account to log into the email host</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_USE_TLS</span></code></dt><dd><p>Boolean stating if the communication should use TLS</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_USE_SSL</span></code></dt><dd><p>Boolean stating if the communication should use SSL</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_ACTION_NOTIFICATION_SENDER</span></code></dt><dd><p>Address to use when sending notifications</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_HTML_ONLY</span></code></dt><dd><p>Send HTML text only, or alternatively, send text and HTML as an attachment</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">True</span></code> (send HTML only)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_BURST</span></code></dt><dd><p>Number of consecutive emails to send before pausing (to adapt to potential throttling of the SMTP server)</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMAIL_BURST_PAUSE</span></code></dt><dd><p>Number of seconds to wait between bursts.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p>An example of the content in the configuration is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EMAIL_HOST</span><span class="o">=</span><span class="n">smtp</span><span class="o">.</span><span class="n">yourinstitution</span><span class="o">.</span><span class="n">org</span>
<span class="n">EMAIL_PORT</span><span class="o">=</span><span class="mi">334</span>
<span class="n">EMAIL_HOST_USER</span><span class="o">=</span><span class="n">mailmaster</span>
<span class="n">EMAIL_HOST_PASSWORD</span><span class="o">=</span><span class="n">somepassword</span>
<span class="n">EMAIL_USE_TLS</span><span class="o">=</span><span class="kc">False</span>
<span class="n">EMAIL_USE_SSL</span><span class="o">=</span><span class="kc">False</span>
<span class="n">EMAIL_ACTION_NOTIFICATION_SENDER</span><span class="o">=</span><span class="n">ontaskmaster</span><span class="nd">@yourinstitution</span><span class="o">.</span><span class="n">org</span>
<span class="n">EMAIL_BURST</span><span class="o">=</span><span class="mi">500</span>
<span class="n">EMAIL_BURST_PAUSE</span><span class="o">=</span><span class="mi">43200</span>
</pre></div>
</div>
<p>Set theses variables in the configuration file to the appropriate values
before starting the application. Make sure the server is running <strong>in production mode</strong>. The development mode is configured to <strong>not send</strong> emails but show their content in the console instead.</p>
<div class="section" id="tracking-email-reads">
<h2><span class="section-number">2.6.1. </span>Tracking Email Reads<a class="headerlink" href="#tracking-email-reads" title="Permalink to this headline">¶</a></h2>
<p>If OnTask is deployed using SAML, all URLs are likely to be configured to go through the authentication layer. This configuration prevents OnTask from receiving the email read confirmations. In this case, the web server needs to be configured so that the SAML authentication is removed for the URL <code class="docutils literal notranslate"><span class="pre">trck</span></code> (the one receiving the email read tracking). In Apache, this can be achieved by the following directive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Location</span> <span class="o">/</span><span class="n">trck</span><span class="o">&gt;</span>
  <span class="n">Require</span> <span class="nb">all</span> <span class="n">granted</span>
<span class="o">&lt;/</span><span class="n">Location</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>If OnTask is not served from the root of your web server, make sure you include the absolute URL to <code class="docutils literal notranslate"><span class="pre">trck</span></code>. For example, if OnTask is available through the URL <code class="docutils literal notranslate"><span class="pre">my.server.com/somesuffix/ontask</span></code>, then the URL to use in the previous configuration is <code class="docutils literal notranslate"><span class="pre">my.server.com/somesuffix/ontask/trck</span></code>.</p>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="authentication.html" title="Previous document"><span class="section-number">2.5. </span>Authentication</a>
        </li>
        <li>
          <a href="canvas_email_config.html" title="Next document"><span class="section-number">2.7. </span>Canvas Email Configuration</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/ontask-logo-1.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=abelardopardo&repo=ontask_b&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/index.html">1. What is OnTask</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. Installation process</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="requirements.html">2.1. Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="install_ontask.html">2.2. Download, install and configure OnTask</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html">2.3. Upgrading OnTask</a></li>
<li class="toctree-l2"><a class="reference internal" href="admin_pages.html">2.4. The Administration Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html">2.5. Authentication</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.6. Email Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tracking-email-reads">2.6.1. Tracking Email Reads</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="canvas_email_config.html">2.7. Canvas Email Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">2.8. Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_connections.html">2.9. SQL Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="bulk_user_create.html">2.10. Creating users in Bulk</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_server.html">2.11. Creating a Development Server using Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Using/index.html">3. Using OnTask</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Scenarios/index.html">4. Use Scenarios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/index.html">5. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Advanced/index.html">6. Advanced Features</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html"><span class="section-number">2. </span>Installation process</a><ul>
      <li>Previous: <a href="authentication.html" title="previous chapter"><span class="section-number">2.5. </span>Authentication</a></li>
      <li>Next: <a href="canvas_email_config.html" title="next chapter"><span class="section-number">2.7. </span>Canvas Email Configuration</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Content Licensed under Creative Commons BY 4.0.
      
      |
      <a href="../_sources/Install/email_config.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/abelardopardo/ontask_b" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>