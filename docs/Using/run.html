
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>3.5. Running actions &#8212; OnTask (B.7.2) B.7.2 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.6. Additional Workflow Operations" href="workflow_ops.html" />
    <link rel="prev" title="3.4. Actions" href="action.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="action.html" title="Previous document"><span class="section-number">3.4. </span>Actions</a>
        </li>
        <li>
          <a href="workflow_ops.html" title="Next document"><span class="section-number">3.6. </span>Additional Workflow Operations</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="running-actions">
<span id="id1"></span><h1><span class="section-number">3.5. </span>Running actions<a class="headerlink" href="#running-actions" title="Permalink to this headline">¶</a></h1>
<p>Once an action has been created, it can be <em>run</em>. The meaning of this term is different for the various types of actions supported in OnTask.</p>
<div class="section" id="sending-personalized-emails-personalized-text-actions">
<span id="personalized-emails"></span><h2><span class="section-number">3.5.1. </span>Sending personalized emails (Personalized Text Actions)<a class="headerlink" href="#sending-personalized-emails-personalized-text-actions" title="Permalink to this headline">¶</a></h2>
<p>Once you created a personalized text action and verified its content using the <em>Preview</em> button, save its content. The second operation in the left column <em>runs the action</em>.</p>
<div class="figure align-center">
<img alt="../_images/action_action_ops.png" src="../_images/action_action_ops.png" />
</div>
<p>If selected, the next page is a form requesting information about how to send the messages to the learners. The next figure shows an example of this page.</p>
<div class="figure align-center">
<img alt="../_images/action_email_request_data.png" src="../_images/action_email_request_data.png" />
</div>
<p>The fields in this form are:</p>
<dl class="simple">
<dt>Column to use for target email address</dt><dd><p>OnTask needs to know where to send the email. It assumes that you have a column containing that information for each learner and it needs you to select that column.</p>
</dd>
<dt>Email subject</dt><dd><p>A line to be included as subject of all the emails.</p>
</dd>
<dt>Comma separated list of CC emails</dt><dd><p>A comma-separated list of emails to include in the <em>carbon copy</em> or <em>CC</em> email field.</p>
</dd>
<dt>Comma separated list of BCC emails</dt><dd><p>A comma-separated list of emails to include in the <em>blind carbon copy</em> or <em>BCC</em> email field.</p>
</dd>
<dt>Check/exclude emails</dt><dd><p>If selected, this option inserts an extra step in which you can eliminate certain emails form the action. This feature is useful to remove certain emails that cannot be removed with the filter.</p>
</dd>
<dt>Send you a summary message</dt><dd><p>If you select this option OnTask will send you an email with the summary of this operation (number of rows in the table that were selected by the filter, number of emails sent, date/time of the operation, etc.</p>
</dd>
<dt>Track email reading</dt><dd><p>Include in the messages a HTML snipped to detect if the email is read. OnTask adds an extra column to the table to store the number of times the message is opened. This detection relies on how the email client opens the message and processes the included images, therefore, the information in this column may not accurately reflect this information.</p>
</dd>
<dt>Snapshot of the workflow</dt><dd><p>If you select this option, after the emails are sent, the platform returns you a file that contains a snapshot (picture) of the workflow. It basically freezes the content of the workflow and places it in a file given to you. You may take this file and <a class="reference internal" href="workflow.html#workflow-import"><span class="std std-ref">import back the workflow</span></a>. In this new workflow you can check the values and messages at the time the operation was executed.</p>
</dd>
</dl>
<p>If the option to <em>Check/exclude emails</em> has been selected, clicking in the <em>Next</em> button leads to a page where the list of emails is shown and the user can select some of them to remove from the operation. If this option is not selected, the operation to send the emails is sent to a queue for processing. The browser will show the record that contains the information about the status of this request.</p>
</div>
<div class="section" id="making-personalized-content-available-to-learners">
<h2><span class="section-number">3.5.2. </span>Making personalized content available to learners<a class="headerlink" href="#making-personalized-content-available-to-learners" title="Permalink to this headline">¶</a></h2>
<p>Sending a personalized text is just one possible way to make this content available to learner. Another one is to offer the content through a URL that can be given to the learners. To enable such URL click on the icon with three dots in the right most corner of a personalized text action.</p>
<div class="figure align-center">
<img alt="../_images/action_action_ops.png" src="../_images/action_action_ops.png" />
</div>
<p>You will see an operation labeled <code class="docutils literal notranslate"><span class="pre">URL</span></code> followed by either the word <code class="docutils literal notranslate"><span class="pre">(Off)</span></code> or <code class="docutils literal notranslate"><span class="pre">(On)</span></code>. Select that operation. The following window shows the URL in which the content is available as well as the field to enable/disable it.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/action_URL_on.png"><img alt="../_images/action_URL_on.png" src="../_images/action_URL_on.png" style="width: 60%;" /></a>
</div>
<p>In order for the learners to be able to view their personalized content, they have to be users of the OnTask platform and their ID present in the data table. This functionality is conceived for a context in which OnTask authenticates users either through a corporate Single-sign on layer, or learners access the OnTask through the Learning Management System with a LTI interface (see <a class="reference internal" href="../Install/authentication.html#authentication"><span class="std std-ref">Authentication</span></a>).</p>
</div>
<div class="section" id="running-a-survey">
<h2><span class="section-number">3.5.3. </span>Running a survey<a class="headerlink" href="#running-a-survey" title="Permalink to this headline">¶</a></h2>
<p>After creating a <a class="reference internal" href="action.html#surveys"><span class="std std-ref">survey action</span></a> it can be used in two modalities: run by the instructor, or given to the learners to fill out the data. The first modality is used as a mechanism to capture instructor observations. For example, surveys run by the instructor can be used as an attendance capturing mechanism (if the instructor has a device or procedure to capture who is in attendance). If the <em>Run</em> operation is selected, OnTask shows a table with the learners selected for the action, and the values for the survey collected so far.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/action_run_action_in.png"><img alt="../_images/action_run_action_in.png" src="../_images/action_run_action_in.png" style="width: 100%;" /></a>
</div>
<p>Each row contains the identifier of the student (in the previous table, the email) as a link. Instructors may click on a link available to enter the survey information or modify the already existing information for that learner.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/action_enter_data_action_in.png"><img alt="../_images/action_enter_data_action_in.png" src="../_images/action_enter_data_action_in.png" style="width: 100%;" /></a>
</div>
<p>After entering the information the list of students for which the data entry is still allowed.</p>
<div class="section" id="making-the-survey-available-to-the-learners">
<h3><span class="section-number">3.5.3.1. </span>Making the survey available to the learners<a class="headerlink" href="#making-the-survey-available-to-the-learners" title="Permalink to this headline">¶</a></h3>
<p>The second operation available for <em>survey</em> actions is to make available the URL to learners so that they individually enter the information themselves. The right-most column of the action table contains an icon with three dots that if selected shows a set of additional operations, and one of them has the text <em>URL</em>. If selected OnTask shows the URL for the survey, the possibility of enable/disable it, or even provide a date/time window for its availability.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/action_action_in_URL.png"><img alt="../_images/action_action_in_URL.png" src="../_images/action_action_in_URL.png" style="width: 60%;" /></a>
</div>
<p>Once enabled, you may send the URL to the students (you may even use a personalized text action for that). Once the students click on the action, and if they are allowed to connect to OnTask as basic users, after authentication, if their email is part of the table, they will see a form with the survey questions and after answering it, the values are automatically stored in the right row and column in the table.</p>
<p>These two survey actions are ideal to collect information about any aspect of a learning experience in a way that is centralized and available for further processing through personalized text actions. For example, users may choose from a predefined set of topics those that were more challenging. This information can then be used in a personalized text action to provide the adequate resources to each learner.</p>
</div>
</div>
<div class="section" id="sending-personalized-emails-in-canvas">
<span id="send-personalized-canvas-emails"></span><h2><span class="section-number">3.5.4. </span>Sending personalized emails in Canvas<a class="headerlink" href="#sending-personalized-emails-in-canvas" title="Permalink to this headline">¶</a></h2>
<p>The execution of a <a class="reference internal" href="action.html#personalized-canvas-email"><span class="std std-ref">Personalized Canvas Email</span></a> action requires additional information as shown in the following figure:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/action_personalized_canvas_email_run.png"><img alt="../_images/action_personalized_canvas_email_run.png" src="../_images/action_personalized_canvas_email_run.png" style="width: 100%;" /></a>
</div>
<dl class="simple">
<dt>Column in the table containing Canvas ID values</dt><dd><p>This column is essential to send the emails to the platform as it is used to uniquely identify every Canvas user. The data can be obtained downloading the marks of a course as a CSV file and uploading/merging this column with the existing table.</p>
</dd>
<dt>Email subject</dt><dd><p>The text to use as subject for the messages.</p>
</dd>
<dt>Canvas Host</dt><dd><p>If there is more than one Canvas platform configured in OnTask, an additional pull-down menu will appear to select which one to use. If there is a single Canvas platform configured, it will be used by default and this field will not be shown in the form.</p>
</dd>
<dt>Check/Exclude Canvas IDs before sending messages</dt><dd><p>If this option is selected OnTask adds an extra step to check the identifiers that will be used and offer the possibility of excluding some of them.</p>
</dd>
<dt>Download a snapshot of the workflow</dt><dd><p>If selected, a snapshot of the workflow (data and actions) will be downloaded after the messages have been queued for delivery.</p>
</dd>
</dl>
<p>After introducing this data, OnTask will check if it has credentials for the user to access Canvas through its API. If not, the user will be redirected to a page in the Canvas Learning Management System to 1) authenticate, and 2) authorize OnTask to access the platform. If these steps are successful, the user is redirected back to OnTask and the messages are delivered. The credentials retrieved from Canvas will be reused for future executions of this action.</p>
</div>
<div class="section" id="sending-personalized-json-objects-to-another-platform">
<h2><span class="section-number">3.5.5. </span>Sending personalized JSON objects to another platform<a class="headerlink" href="#sending-personalized-json-objects-to-another-platform" title="Permalink to this headline">¶</a></h2>
<p>The operation to <em>Run</em> a personalized JSON action sends the objects resulting from the personalization to the given URL. The page to collect the information to run these actions is shown in the next figure:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/action_json_run_request_data.png"><img alt="../_images/action_json_run_request_data.png" src="../_images/action_json_run_request_data.png" style="width: 100%;" /></a>
</div>
<p>The first field is the column to perform a last review of the elements to send and select some of them to exclude in an extra step. If the field is empty, this step is skipped. The second field is the token to use for authentication when sending the JSON objects to the URL given when editing the action. This operation assumes that such token has already been obtained and provides no additional functionality to execute that step as part of this operation.</p>
<p>Similarly to the email actions, once these fields are provided, the operation to send the JSON objects to the target URL is queued in a batch system for processing. The browser shows the record where the status of this request is reflected.</p>
</div>
<div class="section" id="creating-a-zip-file-with-the-personalized-text-for-moodle">
<h2><span class="section-number">3.5.6. </span>Creating a ZIP file with the personalized text (for Moodle)<a class="headerlink" href="#creating-a-zip-file-with-the-personalized-text-for-moodle" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="action.html#personalized-content"><span class="std std-ref">personalized text actions</span></a> offer the possibility of creating a ZIP file containing one HTML file with the personalized text for every learner. The execution of this operation requires the use of two columns in the table and a suffix to create the file names. The operation is available clicking in the icon with three dots in the right-most column of an action in the action page. The additional information is requested through the form shown in the following figure.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/action_zip_request_data.png"><img alt="../_images/action_zip_request_data.png" src="../_images/action_zip_request_data.png" style="width: 100%;" /></a>
</div>
<p>The first part of the file name is taken from the values of a key column. The second part of the file name is taken from a second column (optional). Additionally, the user may include a third suffix to be used for the last part of the file name (if none is given the default suffix is <code class="docutils literal notranslate"><span class="pre">feedback.html</span></code>. For example if the first column has the values <code class="docutils literal notranslate"><span class="pre">submission</span> <span class="pre">01,</span> <span class="pre">submission</span> <span class="pre">02,</span> <span class="pre">submission</span> <span class="pre">03</span></code>, the second column has the names <code class="docutils literal notranslate"><span class="pre">John,</span> <span class="pre">Paul,</span> <span class="pre">Mary</span></code>, and the file suffix is empty, the ZIP file will be created with three HTML files with names <code class="docutils literal notranslate"><span class="pre">submission</span> <span class="pre">01_John_feedback.html</span></code>, <code class="docutils literal notranslate"><span class="pre">submission</span> <span class="pre">02_Paul_feedback.html</span></code> and <code class="docutils literal notranslate"><span class="pre">submission</span> <span class="pre">03_Mary_feedback.html</span></code>.</p>
<div class="section" id="uploading-feedback-files-for-a-moodle-assignment">
<span id="upload-feedback-to-moodle"></span><h3><span class="section-number">3.5.6.1. </span>Uploading feedback files for a Moodle Assignment<a class="headerlink" href="#uploading-feedback-files-for-a-moodle-assignment" title="Permalink to this headline">¶</a></h3>
<p>One of the potential uses of the ZIP file generated from a personalized text action is to upload each file as personalized feedback of an assignment in a Moodle course. However, there are some requirements in the file names so that they are uploaded each to the appropriate location, namely:</p>
<ol class="arabic simple">
<li><p>The table must have column named <code class="docutils literal notranslate"><span class="pre">Identifier</span></code> with values starting with the word <code class="docutils literal notranslate"><span class="pre">Participant</span></code> followed by a white space and a unique number. This column can be extracted from a Moodle Assignment by downloading the <em>grading worksheet</em>:</p></li>
</ol>
<blockquote>
<div><div class="figure align-center">
<img alt="../_images/downloadgradingworksheet.png" src="../_images/downloadgradingworksheet.png" />
</div>
<p>The CSV file has two columns with names <code class="docutils literal notranslate"><span class="pre">Identifier</span></code> and <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">name</span></code>.</p>
<div class="figure align-center">
<img alt="../_images/moodle_grading_sheet.png" src="../_images/moodle_grading_sheet.png" />
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>The two columns <code class="docutils literal notranslate"><span class="pre">Identifier</span></code> and <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">name</span></code> must be <a class="reference internal" href="data.html#data-merge"><span class="std std-ref">merged</span></a> with the current data in the workflow.</p></li>
<li><p>Choose the column <code class="docutils literal notranslate"><span class="pre">Identifier</span></code> and <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">name</span></code> as the first and second column respectively when generating the ZIP file. Make sure you select the option <code class="docutils literal notranslate"><span class="pre">This</span> <span class="pre">ZIP</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">uploaded</span> <span class="pre">to</span> <span class="pre">Moodle</span> <span class="pre">as</span> <span class="pre">feedback</span></code>.</p></li>
<li><p>Upload the resulting ZIP using the option <code class="docutils literal notranslate"><span class="pre">Upload</span> <span class="pre">multiple</span> <span class="pre">files</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">zip</span></code> in the Moodle Assignment.</p>
<div class="figure align-center">
<img alt="../_images/multiplefeedbackzip.png" src="../_images/multiplefeedbackzip.png" />
</div>
</li>
</ol>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="action.html" title="Previous document"><span class="section-number">3.4. </span>Actions</a>
        </li>
        <li>
          <a href="workflow_ops.html" title="Next document"><span class="section-number">3.6. </span>Additional Workflow Operations</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/ontask-logo-1.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=abelardopardo&repo=ontask_b&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/index.html">1. What is OnTask</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Install/index.html">2. Installation process</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Using OnTask</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="workflow.html">3.1. Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html">3.2. Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">3.3. Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="action.html">3.4. Actions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.5. Running actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sending-personalized-emails-personalized-text-actions">3.5.1. Sending personalized emails (Personalized Text Actions)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#making-personalized-content-available-to-learners">3.5.2. Making personalized content available to learners</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-a-survey">3.5.3. Running a survey</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sending-personalized-emails-in-canvas">3.5.4. Sending personalized emails in Canvas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sending-personalized-json-objects-to-another-platform">3.5.5. Sending personalized JSON objects to another platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-zip-file-with-the-personalized-text-for-moodle">3.5.6. Creating a ZIP file with the personalized text (for Moodle)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow_ops.html">3.6. Additional Workflow Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">3.7. Transforming the data with your own code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Scenarios/index.html">4. Use Scenarios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/index.html">5. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Advanced/index.html">6. Advanced Features</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html"><span class="section-number">3. </span>Using OnTask</a><ul>
      <li>Previous: <a href="action.html" title="previous chapter"><span class="section-number">3.4. </span>Actions</a></li>
      <li>Next: <a href="workflow_ops.html" title="next chapter"><span class="section-number">3.6. </span>Additional Workflow Operations</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Content Licensed under Creative Commons BY 4.0.
      
      |
      <a href="../_sources/Using/run.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/abelardopardo/ontask_b" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>