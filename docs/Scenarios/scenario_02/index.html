
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4.2. Scenario 2: Send email to all students with tailored text &#8212; OnTask (B.7.2) B.7.2 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="4.3. Scenario 3: Send email to some students with personalised text" href="../scenario_03/index.html" />
    <link rel="prev" title="4.1. Scenario? I don’t even know what the tool does" href="../scenario_01/index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../scenario_01/index.html" title="Previous document"><span class="section-number">4.1. </span>Scenario? I don’t even know what the tool does</a>
        </li>
        <li>
          <a href="../scenario_03/index.html" title="Next document"><span class="section-number">4.3. </span>Scenario 3: Send email to some students with personalised text</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="scenario-2-send-email-to-all-students-with-tailored-text">
<span id="scenario-02"></span><h1><span class="section-number">4.2. </span>Scenario 2: Send email to all students with tailored text<a class="headerlink" href="#scenario-2-send-email-to-all-students-with-tailored-text" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>CSV data file: <a class="reference download internal" download="" href="../../_downloads/fd38c5d38c893f6d3f56a9f0b9fed31d/scenario_02_data.csv"><code class="xref download docutils literal notranslate"><span class="pre">Scenario</span> <span class="pre">2</span> <span class="pre">Data</span> <span class="pre">File</span></code></a>.</p></li>
<li><p>Workflow data file: <a class="reference download internal" download="" href="../../_downloads/5d0956bd873971bd53026da123a7ab65/scenario_02_wflow.gz"><code class="xref download docutils literal notranslate"><span class="pre">Scenario</span> <span class="pre">2</span> <span class="pre">Workflow</span> <span class="pre">File</span></code></a>.</p></li>
</ul>
<p>Suppose you have a course with 500 students and they take the course as part of four programs named FASS, FEIT, FSCI, SMED in different disciplines. They are all related, but at the same time different. You would like to send all your students an initial email explaining a few aspects of the course. One paragraph is about the structure of the course and is common to all students. A second one explains the connection between the material and their program. This second paragraph has to change depending on the program in which each student is enrolled. The task consists on drafting one email with a personalised greeting (using the student’s name) a common paragraph, and a second paragraph that changes depending on the program.</p>
<p>Suppose now that you <a class="reference download internal" download="" href="../../_downloads/fd38c5d38c893f6d3f56a9f0b9fed31d/scenario_02_data.csv"><code class="xref download docutils literal notranslate"><span class="pre">do</span> <span class="pre">have</span> <span class="pre">the</span> <span class="pre">class</span> <span class="pre">listing</span> <span class="pre">in</span> <span class="pre">an</span> <span class="pre">excel</span> <span class="pre">sheet</span></code></a>. The table has the names of the students (one student per row), and the column named <em>Program</em> contains for each student one of four possible values “FASS”, “FSCI”, “FEIT” or “SMED”.</p>
<div class="admonition-steps admonition">
<p class="admonition-title">Steps</p>
<ol class="arabic">
<li><p>Create a new workflow (click on the <em>New Workflow</em> button in the home page of the tool). Introduce a name and a description (optional) for this workflow.</p></li>
<li><p>Open the newly created workflow by clicking its name. A page titled <em>Workflow Details</em> will be shown.</p></li>
<li><p>The page says that there is no data uploaded yet, and to upload it you need to click on the <em>Dataops</em> link either at the bottom of the text or at the context menu at the top.</p></li>
<li><p>A new page titled <em>Upload/Merge</em> appears. Select the option <em>CSV Upload/Merge</em> and follow the instructions to upload the <a class="reference download internal" download="" href="../../_downloads/fd38c5d38c893f6d3f56a9f0b9fed31d/scenario_02_data.csv"><code class="xref download docutils literal notranslate"><span class="pre">CSV</span> <span class="pre">file</span></code></a> (select all the columns to upload)</p></li>
<li><p>Click the <em>Details</em> page to see a summary of the elements in the workflow: 500 rows, 10 columns, 1 action and 0 attributes. All the steps up to here can be done by <a class="reference download internal" download="" href="../../_downloads/5d0956bd873971bd53026da123a7ab65/scenario_02_wflow.gz"><code class="xref download docutils literal notranslate"><span class="pre">importing</span> <span class="pre">the</span> <span class="pre">given</span> <span class="pre">workflow</span> <span class="pre">file</span></code></a>.</p></li>
<li><p>Click the <em>Table</em> link at the top of the page and browse through the data included in the workflow. Locate the column called <em>Program</em> and verify that it has the correct values.</p></li>
<li><p>Click the <em>Actions</em> link at the top of the page. The new page shows a list of actions available for this workflow. Click on the button to create a <em>New Action Out</em> to send a welcome email to all students. Choose an name and description (optional) for the action, for example <em>Welcome email</em>.</p></li>
<li><p>The next page is the action out editor. In the second area from the top you will see a button to create a new condition (<em>Conditions + New</em>). Click the button and a new window opens to specify a condition. Enter the following data:</p>
<div class="figure align-center">
<img alt="../../_images/scenario_02_condition_FASS.png" src="../../_images/scenario_02_condition_FASS.png" />
</div>
</li>
</ol>
<p>The formula states that the condition will be satisfied when the column <em>Program</em> has the value <em>FASS</em>. Click the button to save the condition.</p>
<ol class="arabic">
<li><p>Create three additional conditions that are analogous to this one but are true when the <em>Program</em> column is equal to <em>FEIT</em>, <em>FSCI</em> and <em>SMED</em> respectively.</p></li>
<li><p>Write the text of the email starting with a greeting. Immediately after the greeting select from the pull down menu titled <code class="docutils literal notranslate"><span class="pre">Insert</span> <span class="pre">column</span> <span class="pre">value</span></code> the column <code class="docutils literal notranslate"><span class="pre">GivenName</span></code>. You will see how the string <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">GivenName</span> <span class="pre">}}</span></code> is inserted in the text. This is the way OnTask has to mark that the string with the double curly braces should be replaced by the value of the column <em>GivenName</em>.</p></li>
<li><p>Next, write the four paragraphs that you would write to the students in each of the programs (FEIT, FSCI, FASS and SMED). Separate them with an empty line.</p></li>
<li><p>Now, and this is the crucial step, we are going to mark these
paragraphs with one of the previously defined conditions. Select and
highlight the paragraph to the students in the FASS program. Then click on
the arrow next to the condition named <em>Student in FASS</em> and select the
option <em>Insert in text</em>. The text should now be surrounded by the strings
<code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">if</span> <span class="pre">Student</span> <span class="pre">in</span> <span class="pre">FASS</span> <span class="pre">%}</span></code> and <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">endif</span> <span class="pre">%}</span></code>.</p></li>
<li><p>Repeat the same procedure now with the three remaining paragraphs. Select the text and then click on the appropriate condition. The final result should be similar to the one shown in the following figure.</p>
<div class="figure align-center">
<img alt="../../_images/scenario_02_text_all_conditions.png" src="../../_images/scenario_02_text_all_conditions.png" />
</div>
</li>
<li><p>Add the signature at the end of the text. Use the button named <em>Preview</em> at the bottom and use the arrows in the emerging window to browse through the different messages created for each user.</p>
<div class="figure align-center">
<img alt="../../_images/scenario_02_preview.png" src="../../_images/scenario_02_preview.png" />
</div>
</li>
<li><p>Save and close the <em>Action Out</em>. You now are back to the screen showing the actions in the workflow (you can see the one we just created). If you click on the <em>Email</em> button, you will be asked for some extra data such as the email subject, the column to use as email address and some options to track email reading or even obtain a snapshot (duplicate) of the workflow as it is right now for future reference.</p></li>
</ol>
<blockquote>
<div><div class="figure align-center">
<img alt="../../_images/scenario_02_action_email.png" src="../../_images/scenario_02_action_email.png" />
</div>
</div></blockquote>
<ol class="arabic simple">
<li><p>That’s it! Each student will receive a message with the content of the second paragraph different depending on the program.</p></li>
</ol>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../scenario_01/index.html" title="Previous document"><span class="section-number">4.1. </span>Scenario? I don’t even know what the tool does</a>
        </li>
        <li>
          <a href="../scenario_03/index.html" title="Next document"><span class="section-number">4.3. </span>Scenario 3: Send email to some students with personalised text</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/ontask-logo-1.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=abelardopardo&repo=ontask_b&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Introduction/index.html">1. What is OnTask</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Install/index.html">2. Installation process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Using/index.html">3. Using OnTask</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">4. Use Scenarios</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../scenario_01/index.html">4.1. Scenario? I don’t even know what the tool does</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.2. Scenario 2: Send email to all students with tailored text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scenario_03/index.html">4.3. Scenario 3: Send email to some students with personalised text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Tutorial/index.html">5. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Advanced/index.html">6. Advanced Features</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html"><span class="section-number">4. </span>Use Scenarios</a><ul>
      <li>Previous: <a href="../scenario_01/index.html" title="previous chapter"><span class="section-number">4.1. </span>Scenario? I don’t even know what the tool does</a></li>
      <li>Next: <a href="../scenario_03/index.html" title="next chapter"><span class="section-number">4.3. </span>Scenario 3: Send email to some students with personalised text</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Content Licensed under Creative Commons BY 4.0.
      
      |
      <a href="../../_sources/Scenarios/scenario_02/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/abelardopardo/ontask_b" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>